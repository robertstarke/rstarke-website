import{s as ge,B as W,C as le,w as ke,x as we,y as Ie,z as Ee,e as x,a as Z,D as oe,c as D,b as $,f as u,g as ee,E as ce,p as i,q as je,F as y,i as R,h,G as Ae,H as We,I as fe,k as ue,t as he,d as pe,n as $e,j as Fe,J as Ge}from"../chunks/scheduler.D4vLoUHo.js";import{S as ve,i as be,b as X,d as K,m as Q,a as N,t as V,e as Y,c as qe,g as Le}from"../chunks/index.edZ_8fl8.js";import{g as Pe}from"../chunks/entry.CMRt2GZN.js";import{I as ye,g as xe,a as De,F as Se}from"../chunks/FormattedTime.CikWtWez.js";function He(n){let e;const l=n[2].default,t=ke(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&we(t,l,r,r[3],e?Ee(l,r[3],s,null):Ie(r[3]),null)},i(r){e||(N(t,r),e=!0)},o(r){V(t,r),e=!1},d(r){t&&t.d(r)}}}function Je(n){let e,l;const t=[{name:"pause"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[He]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=W(r,t[s]);return e=new ye({props:r}),{c(){X(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,a){Q(e,s,a),l=!0},p(s,[a]){const c=a&3?xe(t,[t[0],a&2&&De(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:s}),e.$set(c)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function Re(n,e,l){let{$$slots:t={},$$scope:r}=e;const s=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return n.$$set=a=>{l(1,e=W(W({},e),le(a))),"$$scope"in a&&l(3,r=a.$$scope)},e=le(e),[s,e,t,r]}class Xe extends ve{constructor(e){super(),be(this,e,Re,Je,ge,{})}}function Ke(n){let e;const l=n[2].default,t=ke(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&we(t,l,r,r[3],e?Ee(l,r[3],s,null):Ie(r[3]),null)},i(r){e||(N(t,r),e=!0)},o(r){V(t,r),e=!1},d(r){t&&t.d(r)}}}function Qe(n){let e,l;const t=[{name:"play"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[Ke]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=W(r,t[s]);return e=new ye({props:r}),{c(){X(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,a){Q(e,s,a),l=!0},p(s,[a]){const c=a&3?xe(t,[t[0],a&2&&De(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:s}),e.$set(c)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function Ye(n,e,l){let{$$slots:t={},$$scope:r}=e;const s=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return n.$$set=a=>{l(1,e=W(W({},e),le(a))),"$$scope"in a&&l(3,r=a.$$scope)},e=le(e),[s,e,t,r]}class Ze extends ve{constructor(e){super(),be(this,e,Ye,Qe,ge,{})}}function et(n){let e;const l=n[2].default,t=ke(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&we(t,l,r,r[3],e?Ee(l,r[3],s,null):Ie(r[3]),null)},i(r){e||(N(t,r),e=!0)},o(r){V(t,r),e=!1},d(r){t&&t.d(r)}}}function tt(n){let e,l;const t=[{name:"x"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[et]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=W(r,t[s]);return e=new ye({props:r}),{c(){X(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,a){Q(e,s,a),l=!0},p(s,[a]){const c=a&3?xe(t,[t[0],a&2&&De(s[1]),a&1&&{iconNode:s[0]}]):{};a&8&&(c.$$scope={dirty:a,ctx:s}),e.$set(c)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function st(n,e,l){let{$$slots:t={},$$scope:r}=e;const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return n.$$set=a=>{l(1,e=W(W({},e),le(a))),"$$scope"in a&&l(3,r=a.$$scope)},e=le(e),[s,e,t,r]}class rt extends ve{constructor(e){super(),be(this,e,st,tt,ge,{})}}function lt(n){let e,l;return e=new Xe({props:{size:"40"}}),{c(){X(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function nt(n){let e,l;return e=new Ze({props:{size:"40"}}),{c(){X(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},i(t){l||(N(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function at(n){let e;return{c(){e=he("Congratulations you finished the excercise")},l(l){e=pe(l,"Congratulations you finished the excercise")},m(l,t){R(l,e,t)},p:$e,i:$e,o:$e,d(l){l&&u(e)}}}function it(n){let e,l,t,r;function s(o,d){return o[1]==="rest"?ct:ot}let a=s(n),c=a(n);return t=new Se({props:{timeInMs:n[0]}}),{c(){c.c(),e=Z(),l=x("div"),X(t.$$.fragment)},l(o){c.l(o),e=ee(o),l=D(o,"DIV",{});var d=$(l);K(t.$$.fragment,d),d.forEach(u)},m(o,d){c.m(o,d),R(o,e,d),R(o,l,d),Q(t,l,null),r=!0},p(o,d){a===(a=s(o))&&c?c.p(o,d):(c.d(1),c=a(o),c&&(c.c(),c.m(e.parentNode,e)));const O={};d&1&&(O.timeInMs=o[0]),t.$set(O)},i(o){r||(N(t.$$.fragment,o),r=!0)},o(o){V(t.$$.fragment,o),r=!1},d(o){o&&(u(e),u(l)),c.d(o),Y(t)}}}function ot(n){let e,l=n[5].name+"",t;return{c(){e=x("div"),t=he(l),this.h()},l(r){e=D(r,"DIV",{class:!0});var s=$(e);t=pe(s,l),s.forEach(u),this.h()},h(){i(e,"class","mb-6")},m(r,s){R(r,e,s),h(e,t)},p(r,s){s&32&&l!==(l=r[5].name+"")&&Fe(t,l)},d(r){r&&u(e)}}}function ct(n){let e,l="Rest",t,r,s,a=n[5].name+"",c;return{c(){e=x("div"),e.textContent=l,t=Z(),r=x("div"),s=he("Next: "),c=he(a),this.h()},l(o){e=D(o,"DIV",{class:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-171wd9d"&&(e.textContent=l),t=ee(o),r=D(o,"DIV",{class:!0});var d=$(r);s=pe(d,"Next: "),c=pe(d,a),d.forEach(u),this.h()},h(){i(e,"class","mb-2"),i(r,"class","mb-6 text-2xl")},m(o,d){R(o,e,d),R(o,t,d),R(o,r,d),h(r,s),h(r,c)},p(o,d){d&32&&a!==(a=o[5].name+"")&&Fe(c,a)},d(o){o&&(u(e),u(t),u(r))}}}function ft(n){let e,l,t,r,s,a,c,o,d,O,A,te,S,T,v,p,L,P,M,q,I,E,b,k,B,se,G,U,C,z,g,ne,me;o=new rt({props:{size:"40"}}),A=new Se({props:{timeInMs:n[2]}});const m=[nt,lt],w=[];function j(f,_){return f[3]?0:1}v=j(n),p=w[v]=m[v](n);const H=[it,at],J=[];function ze(f,_){return f[2]>0?0:1}return C=ze(n),z=J[C]=H[C](n),{c(){e=x("div"),l=x("div"),t=x("div"),r=Z(),s=x("div"),a=x("a"),c=x("button"),X(o.$$.fragment),d=Z(),O=x("div"),X(A.$$.fragment),te=Z(),S=x("div"),T=x("button"),p.c(),P=Z(),M=x("div"),q=x("div"),I=oe("svg"),E=oe("circle"),b=oe("circle"),k=oe("circle"),B=oe("circle"),se=Z(),G=x("div"),U=x("div"),z.c(),this.h()},l(f){e=D(f,"DIV",{class:!0});var _=$(e);l=D(_,"DIV",{class:!0});var ae=$(l);t=D(ae,"DIV",{class:!0,style:!0}),$(t).forEach(u),ae.forEach(u),r=ee(_),s=D(_,"DIV",{class:!0});var F=$(s);a=D(F,"A",{href:!0,title:!0,class:!0});var re=$(a);c=D(re,"BUTTON",{class:!0});var Ce=$(c);K(o.$$.fragment,Ce),Ce.forEach(u),re.forEach(u),d=ee(F),O=D(F,"DIV",{class:!0});var Ne=$(O);K(A.$$.fragment,Ne),Ne.forEach(u),te=ee(F),S=D(F,"DIV",{class:!0});var Ve=$(S);T=D(Ve,"BUTTON",{class:!0});var Be=$(T);p.l(Be),Be.forEach(u),Ve.forEach(u),F.forEach(u),P=ee(_),M=D(_,"DIV",{class:!0});var Te=$(M);q=D(Te,"DIV",{class:!0});var _e=$(q);I=ce(_e,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0});var ie=$(I);E=ce(ie,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0,"stroke-width":!0}),$(E).forEach(u),b=ce(ie,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0}),$(b).forEach(u),k=ce(ie,"circle",{id:!0,cx:!0,cy:!0,r:!0,class:!0}),$(k).forEach(u),B=ce(ie,"circle",{id:!0,cx:!0,cy:!0,r:!0}),$(B).forEach(u),ie.forEach(u),se=ee(_e),G=D(_e,"DIV",{class:!0});var Oe=$(G);U=D(Oe,"DIV",{class:!0});var Me=$(U);z.l(Me),Me.forEach(u),Oe.forEach(u),_e.forEach(u),Te.forEach(u),_.forEach(u),this.h()},h(){i(t,"class","h-full bg-rose-500 transition-all duration-1000 ease-linear"),je(t,"width",n[4]+"%"),i(l,"class","progressBar w-full h-6"),i(c,"class","flex-none aspect-square h-20 flex justify-center items-center p-4 bg-rose-500 rounded-md text-zinc-800 text-3xl hover:bg-rose-600 hover:text-zinc-900"),i(a,"href","./"),i(a,"title","Back to setup"),i(a,"class","flex-none"),i(O,"class","w-full text-3xl text-rose-500 text-center"),T.disabled=L=n[2]<0,i(T,"class","aspect-square h-20 flex justify-center items-center p-4 bg-rose-500 rounded-md text-zinc-800 hover:bg-rose-600 hover:text-zinc-900 disabled:bg-stone-400 disabled:hover:text-zinc-800"),i(S,"class","flex-none"),i(s,"class","h-32 flex flex-row justify-between items-center p-8"),i(E,"id","wa-track"),i(E,"cx",n[11]),i(E,"cy",n[11]),i(E,"r",n[12]),i(E,"fill","none"),i(E,"class","stroke-current fill-transparent"),i(E,"stroke-width",ut),y(E,"text-lime-500",n[1]==="rest"),y(E,"text-rose-500",n[1]==="exercise"),i(b,"id","wa-indicator"),i(b,"cx",n[11]),i(b,"cy",n[11]),i(b,"r",n[12]),i(b,"fill","none"),i(b,"class","stroke-current fill-transparent"),i(b,"stroke-width",Ue),i(b,"stroke-linecap","round"),i(b,"stroke-dasharray",n[13]),i(b,"stroke-dashoffset",n[14]),y(b,"text-rose-500",n[1]==="rest"),y(b,"text-lime-500",n[1]==="exercise"),i(k,"id","wa-inner-ping"),i(k,"cx",n[11]),i(k,"cy",n[11]),i(k,"r",n[12]-8),i(k,"class","transform origin-center svelte-tlkz4g"),y(k,"fill-rose-500",n[1]==="rest"),y(k,"fill-lime-500",n[1]==="exercise"),y(k,"wa-animate-ping",n[0]<=3e3),i(B,"id","wa-inner"),i(B,"cx",n[11]),i(B,"cy",n[11]),i(B,"r",n[12]-8),y(B,"fill-rose-300",n[1]==="rest"),y(B,"fill-lime-300",n[1]==="exercise"),i(I,"class","z-30 w-auto h-full -rotate-90"),i(I,"width",de),i(I,"height",de),i(I,"viewBox",`0 0 ${de} ${de}`),i(I,"xmlns","http://www.w3.org/2000/svg"),i(U,"class","text-3xl text-center"),i(G,"class","z-40 absolute flex justify-center items-center aspect-square top-1/2 start-1/2 transform -translate-y-1/2 -translate-x-1/2 rounded-full"),i(q,"class","relative h-full flex justify-center items-stretch"),i(M,"class","custom-height svelte-tlkz4g"),i(e,"class","min-w-96 w-lvw bg-zinc-800")},m(f,_){R(f,e,_),h(e,l),h(l,t),h(e,r),h(e,s),h(s,a),h(a,c),Q(o,c,null),h(s,d),h(s,O),Q(A,O,null),h(s,te),h(s,S),h(S,T),w[v].m(T,null),h(e,P),h(e,M),h(M,q),h(q,I),h(I,E),h(I,b),h(I,k),h(I,B),h(q,se),h(q,G),h(G,U),J[C].m(U,null),g=!0,ne||(me=[Ae(c,"click",n[15]),Ae(T,"click",n[16])],ne=!0)},p(f,[_]){(!g||_&16)&&je(t,"width",f[4]+"%");const ae={};_&4&&(ae.timeInMs=f[2]),A.$set(ae);let F=v;v=j(f),v!==F&&(Le(),V(w[F],1,1,()=>{w[F]=null}),qe(),p=w[v],p||(p=w[v]=m[v](f),p.c()),N(p,1),p.m(T,null)),(!g||_&4&&L!==(L=f[2]<0))&&(T.disabled=L),(!g||_&2)&&y(E,"text-lime-500",f[1]==="rest"),(!g||_&2)&&y(E,"text-rose-500",f[1]==="exercise"),(!g||_&2)&&y(b,"text-rose-500",f[1]==="rest"),(!g||_&2)&&y(b,"text-lime-500",f[1]==="exercise"),(!g||_&2)&&y(k,"fill-rose-500",f[1]==="rest"),(!g||_&2)&&y(k,"fill-lime-500",f[1]==="exercise"),(!g||_&1)&&y(k,"wa-animate-ping",f[0]<=3e3),(!g||_&2)&&y(B,"fill-rose-300",f[1]==="rest"),(!g||_&2)&&y(B,"fill-lime-300",f[1]==="exercise");let re=C;C=ze(f),C===re?J[C].p(f,_):(Le(),V(J[re],1,1,()=>{J[re]=null}),qe(),z=J[C],z?z.p(f,_):(z=J[C]=H[C](f),z.c()),N(z,1),z.m(U,null))},i(f){g||(N(o.$$.fragment,f),N(A.$$.fragment,f),N(p),N(z),g=!0)},o(f){V(o.$$.fragment,f),V(A.$$.fragment,f),V(p),V(z),g=!1},d(f){f&&u(e),Y(o),Y(A),w[v].d(),J[C].d(),ne=!1,We(me)}}}const de=128,ut=3,Ue=3;function dt(n,e,l){let t,r,s,a,c,o,d;const O=fe("selectedExercises");ue(n,O,m=>l(24,d=m));const A=fe("exerciseLength");ue(n,A,m=>l(21,a=m));const te=fe("restLength");ue(n,te,m=>l(20,s=m));const S=fe("repetitions");ue(n,S,m=>l(23,o=m));const T=fe("setOrCycle");ue(n,T,m=>l(22,c=m));let v=d;if(o>1){const m=Array(o).fill("");c==="set"?v=v.flatMap(w=>m.map(()=>w)):c==="cycle"&&(v=m.flatMap(()=>[...v]))}let p=s,L=!1,P="rest",M=0;const q=(a+s)*v.length;let I=q;const E=de/2,b=E-Ue,k=2*Math.PI*b;let B=k;const se=[{strokeDashoffset:k},{strokeDashoffset:0}],G={id:"restA",duration:s},U={id:"exerciseA",duration:a},C=m=>{{const w=new AudioContext,j=w.createOscillator();j.frequency.value=m?540:1240;const H=m?.75:.2;j.connect(w.destination),j.start(),j.stop(w.currentTime+H)}},z=()=>{if(L){clearInterval(g);return}if(p<=3e3&&p%1e3===0&&(p<1e3?C(!0):C(!1)),p<=0){if(clearInterval(g),P==="exercise"&&M===v.length-1)return;P==="rest"?(l(1,P="exercise"),l(0,p=a)):(l(1,P="rest"),l(0,p=s),l(18,M++,M)),g=setInterval(z,100)}l(0,p=p-100),l(2,I=I-100)};let g=setInterval(z,100);v.length===0&&Pe("./");const ne=()=>{clearInterval(g),Pe("./")},me=()=>{L?g=setInterval(z,100):clearInterval(g),l(3,L=!L)};return n.$$.update=()=>{if(n.$$.dirty&3){const m=document.getElementById("wa-indicator");let w=m==null?void 0:m.animate(se,G),j=m==null?void 0:m.animate(se,U);w==null||w.cancel(),j==null||j.cancel();let H=w;H=P==="rest"?w:j,H&&(H.currentTime=p)}n.$$.dirty&393216&&l(5,t=v[M]),n.$$.dirty&4&&l(4,r=(I-1e3)/q*100)},[p,P,I,L,r,t,O,A,te,S,T,E,b,k,B,ne,me,v,M]}class gt extends ve{constructor(e){super(),be(this,e,dt,ft,ge,{})}}export{gt as component};
