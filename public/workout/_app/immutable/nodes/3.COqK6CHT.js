import{s as ge,B as U,C as le,w as ke,x as we,y as Ie,z as Ee,e as D,a as Z,D as ae,c as x,b as $,f as u,g as ee,E as ce,p as o,q as je,F as E,i as R,h as _,G as Ae,H as Se,I as fe,k as ue,t as he,d as pe,n as $e,j as Fe,J as Ue}from"../chunks/scheduler.D4vLoUHo.js";import{S as ve,i as be,b as X,d as K,m as Q,a as V,t as C,e as Y,c as Le,g as qe}from"../chunks/index.edZ_8fl8.js";import{g as Pe}from"../chunks/entry.D_V7HYJS.js";import{I as ye,g as De,a as xe,F as Ge}from"../chunks/FormattedTime.qqx-7wSw.js";function We(n){let e;const l=n[2].default,t=ke(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&we(t,l,r,r[3],e?Ee(l,r[3],s,null):Ie(r[3]),null)},i(r){e||(V(t,r),e=!0)},o(r){C(t,r),e=!1},d(r){t&&t.d(r)}}}function He(n){let e,l;const t=[{name:"pause"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[We]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=U(r,t[s]);return e=new ye({props:r}),{c(){X(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,i){Q(e,s,i),l=!0},p(s,[i]){const c=i&3?De(t,[t[0],i&2&&xe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(c.$$scope={dirty:i,ctx:s}),e.$set(c)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function Re(n,e,l){let{$$slots:t={},$$scope:r}=e;const s=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return n.$$set=i=>{l(1,e=U(U({},e),le(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=le(e),[s,e,t,r]}class Xe extends ve{constructor(e){super(),be(this,e,Re,He,ge,{})}}function Ke(n){let e;const l=n[2].default,t=ke(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&we(t,l,r,r[3],e?Ee(l,r[3],s,null):Ie(r[3]),null)},i(r){e||(V(t,r),e=!0)},o(r){C(t,r),e=!1},d(r){t&&t.d(r)}}}function Qe(n){let e,l;const t=[{name:"play"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[Ke]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=U(r,t[s]);return e=new ye({props:r}),{c(){X(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,i){Q(e,s,i),l=!0},p(s,[i]){const c=i&3?De(t,[t[0],i&2&&xe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(c.$$scope={dirty:i,ctx:s}),e.$set(c)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function Ye(n,e,l){let{$$slots:t={},$$scope:r}=e;const s=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return n.$$set=i=>{l(1,e=U(U({},e),le(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=le(e),[s,e,t,r]}class Ze extends ve{constructor(e){super(),be(this,e,Ye,Qe,ge,{})}}function et(n){let e;const l=n[2].default,t=ke(l,n,n[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&we(t,l,r,r[3],e?Ee(l,r[3],s,null):Ie(r[3]),null)},i(r){e||(V(t,r),e=!0)},o(r){C(t,r),e=!1},d(r){t&&t.d(r)}}}function tt(n){let e,l;const t=[{name:"x"},n[1],{iconNode:n[0]}];let r={$$slots:{default:[et]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=U(r,t[s]);return e=new ye({props:r}),{c(){X(e.$$.fragment)},l(s){K(e.$$.fragment,s)},m(s,i){Q(e,s,i),l=!0},p(s,[i]){const c=i&3?De(t,[t[0],i&2&&xe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(c.$$scope={dirty:i,ctx:s}),e.$set(c)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function st(n,e,l){let{$$slots:t={},$$scope:r}=e;const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return n.$$set=i=>{l(1,e=U(U({},e),le(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=le(e),[s,e,t,r]}class rt extends ve{constructor(e){super(),be(this,e,st,tt,ge,{})}}function lt(n){let e,l;return e=new Xe({props:{size:"40"}}),{c(){X(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function nt(n){let e,l;return e=new Ze({props:{size:"40"}}),{c(){X(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function it(n){let e;return{c(){e=he("Done! Good Job!")},l(l){e=pe(l,"Done! Good Job!")},m(l,t){R(l,e,t)},p:$e,i:$e,o:$e,d(l){l&&u(e)}}}function ot(n){let e,l,t,r;function s(a,d){return a[1]==="rest"?ct:at}let i=s(n),c=i(n);return t=new Ge({props:{timeInMs:n[0]}}),{c(){c.c(),e=Z(),l=D("div"),X(t.$$.fragment)},l(a){c.l(a),e=ee(a),l=x(a,"DIV",{});var d=$(l);K(t.$$.fragment,d),d.forEach(u)},m(a,d){c.m(a,d),R(a,e,d),R(a,l,d),Q(t,l,null),r=!0},p(a,d){i===(i=s(a))&&c?c.p(a,d):(c.d(1),c=i(a),c&&(c.c(),c.m(e.parentNode,e)));const O={};d&1&&(O.timeInMs=a[0]),t.$set(O)},i(a){r||(V(t.$$.fragment,a),r=!0)},o(a){C(t.$$.fragment,a),r=!1},d(a){a&&(u(e),u(l)),c.d(a),Y(t)}}}function at(n){let e,l=n[5].name+"",t;return{c(){e=D("div"),t=he(l),this.h()},l(r){e=x(r,"DIV",{class:!0});var s=$(e);t=pe(s,l),s.forEach(u),this.h()},h(){o(e,"class","mb-6")},m(r,s){R(r,e,s),_(e,t)},p(r,s){s&32&&l!==(l=r[5].name+"")&&Fe(t,l)},d(r){r&&u(e)}}}function ct(n){let e,l="Rest",t,r,s,i=n[5].name+"",c;return{c(){e=D("div"),e.textContent=l,t=Z(),r=D("div"),s=he("Next: "),c=he(i),this.h()},l(a){e=x(a,"DIV",{class:!0,"data-svelte-h":!0}),Ue(e)!=="svelte-171wd9d"&&(e.textContent=l),t=ee(a),r=x(a,"DIV",{class:!0});var d=$(r);s=pe(d,"Next: "),c=pe(d,i),d.forEach(u),this.h()},h(){o(e,"class","mb-2"),o(r,"class","mb-6 text-2xl")},m(a,d){R(a,e,d),R(a,t,d),R(a,r,d),_(r,s),_(r,c)},p(a,d){d&32&&i!==(i=a[5].name+"")&&Fe(c,i)},d(a){a&&(u(e),u(t),u(r))}}}function ft(n){let e,l,t,r,s,i,c,a,d,O,j,te,J,T,v,p,F,A,M,L,w,I,b,k,B,se,W,S,z,N,g,ne,me;a=new rt({props:{size:"40"}}),j=new Ge({props:{timeInMs:n[2]}});const h=[nt,lt],y=[];function q(f,m){return f[3]?0:1}v=q(n),p=y[v]=h[v](n);const P=[ot,it],H=[];function ze(f,m){return f[2]>0?0:1}return z=ze(n),N=H[z]=P[z](n),{c(){e=D("div"),l=D("div"),t=D("div"),r=Z(),s=D("div"),i=D("a"),c=D("button"),X(a.$$.fragment),d=Z(),O=D("div"),X(j.$$.fragment),te=Z(),J=D("div"),T=D("button"),p.c(),A=Z(),M=D("div"),L=D("div"),w=ae("svg"),I=ae("circle"),b=ae("circle"),k=ae("circle"),B=ae("circle"),se=Z(),W=D("div"),S=D("div"),N.c(),this.h()},l(f){e=x(f,"DIV",{class:!0});var m=$(e);l=x(m,"DIV",{class:!0});var ie=$(l);t=x(ie,"DIV",{class:!0,style:!0}),$(t).forEach(u),ie.forEach(u),r=ee(m),s=x(m,"DIV",{class:!0});var G=$(s);i=x(G,"A",{href:!0,title:!0,class:!0});var re=$(i);c=x(re,"BUTTON",{class:!0});var Ne=$(c);K(a.$$.fragment,Ne),Ne.forEach(u),re.forEach(u),d=ee(G),O=x(G,"DIV",{class:!0});var Ve=$(O);K(j.$$.fragment,Ve),Ve.forEach(u),te=ee(G),J=x(G,"DIV",{class:!0});var Ce=$(J);T=x(Ce,"BUTTON",{class:!0});var Be=$(T);p.l(Be),Be.forEach(u),Ce.forEach(u),G.forEach(u),A=ee(m),M=x(m,"DIV",{class:!0});var Te=$(M);L=x(Te,"DIV",{class:!0});var _e=$(L);w=ce(_e,"svg",{class:!0,width:!0,height:!0,viewBox:!0,xmlns:!0});var oe=$(w);I=ce(oe,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0,"stroke-width":!0}),$(I).forEach(u),b=ce(oe,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0}),$(b).forEach(u),k=ce(oe,"circle",{id:!0,cx:!0,cy:!0,r:!0,class:!0}),$(k).forEach(u),B=ce(oe,"circle",{id:!0,cx:!0,cy:!0,r:!0}),$(B).forEach(u),oe.forEach(u),se=ee(_e),W=x(_e,"DIV",{class:!0});var Oe=$(W);S=x(Oe,"DIV",{class:!0});var Me=$(S);N.l(Me),Me.forEach(u),Oe.forEach(u),_e.forEach(u),Te.forEach(u),m.forEach(u),this.h()},h(){o(t,"class","h-full bg-rose-500 transition-all duration-1000 ease-linear"),je(t,"width",n[4]+"%"),o(l,"class","progressBar w-full h-6"),o(c,"class","flex-none aspect-square h-20 flex justify-center items-center p-4 bg-rose-500 rounded-md text-zinc-800 text-3xl hover:bg-rose-600 hover:text-zinc-900"),o(i,"href","./"),o(i,"title","Back to setup"),o(i,"class","flex-none"),o(O,"class","w-full text-3xl text-rose-500 text-center"),T.disabled=F=n[2]<0,o(T,"class","aspect-square h-20 flex justify-center items-center p-4 bg-rose-500 rounded-md text-zinc-800 hover:bg-rose-600 hover:text-zinc-900 disabled:bg-stone-400 disabled:hover:text-zinc-800"),o(J,"class","flex-none"),o(s,"class","h-32 flex flex-row justify-between items-center p-8"),o(I,"id","wa-track"),o(I,"cx",n[11]),o(I,"cy",n[11]),o(I,"r",n[12]),o(I,"fill","none"),o(I,"class","stroke-current fill-transparent"),o(I,"stroke-width",ut),E(I,"text-lime-500",n[1]==="rest"),E(I,"text-rose-500",n[1]==="exercise"),o(b,"id","wa-indicator"),o(b,"cx",n[11]),o(b,"cy",n[11]),o(b,"r",n[12]),o(b,"fill","none"),o(b,"class","stroke-current fill-transparent"),o(b,"stroke-width",Je),o(b,"stroke-linecap","round"),o(b,"stroke-dasharray",n[13]),o(b,"stroke-dashoffset",n[14]),E(b,"text-rose-500",n[1]==="rest"),E(b,"text-lime-500",n[1]==="exercise"),o(k,"id","wa-inner-ping"),o(k,"cx",n[11]),o(k,"cy",n[11]),o(k,"r",n[12]-8),o(k,"class","transform origin-center svelte-tlkz4g"),E(k,"fill-rose-500",n[1]==="rest"),E(k,"fill-lime-500",n[1]==="exercise"),E(k,"wa-animate-ping",n[0]<=3e3),o(B,"id","wa-inner"),o(B,"cx",n[11]),o(B,"cy",n[11]),o(B,"r",n[12]-8),E(B,"fill-rose-300",n[1]==="rest"),E(B,"fill-lime-300",n[1]==="exercise"),o(w,"class","z-30 w-auto h-full -rotate-90"),o(w,"width",de),o(w,"height",de),o(w,"viewBox",`0 0 ${de} ${de}`),o(w,"xmlns","http://www.w3.org/2000/svg"),o(S,"class","text-3xl text-center"),o(W,"class","z-40 absolute flex justify-center items-center aspect-square top-1/2 start-1/2 transform -translate-y-1/2 -translate-x-1/2 rounded-full"),o(L,"class","relative h-full flex justify-center items-stretch"),o(M,"class","custom-height svelte-tlkz4g"),o(e,"class","min-w-96 w-lvw bg-zinc-800")},m(f,m){R(f,e,m),_(e,l),_(l,t),_(e,r),_(e,s),_(s,i),_(i,c),Q(a,c,null),_(s,d),_(s,O),Q(j,O,null),_(s,te),_(s,J),_(J,T),y[v].m(T,null),_(e,A),_(e,M),_(M,L),_(L,w),_(w,I),_(w,b),_(w,k),_(w,B),_(L,se),_(L,W),_(W,S),H[z].m(S,null),g=!0,ne||(me=[Ae(c,"click",n[15]),Ae(T,"click",n[16])],ne=!0)},p(f,[m]){(!g||m&16)&&je(t,"width",f[4]+"%");const ie={};m&4&&(ie.timeInMs=f[2]),j.$set(ie);let G=v;v=q(f),v!==G&&(qe(),C(y[G],1,1,()=>{y[G]=null}),Le(),p=y[v],p||(p=y[v]=h[v](f),p.c()),V(p,1),p.m(T,null)),(!g||m&4&&F!==(F=f[2]<0))&&(T.disabled=F),(!g||m&2)&&E(I,"text-lime-500",f[1]==="rest"),(!g||m&2)&&E(I,"text-rose-500",f[1]==="exercise"),(!g||m&2)&&E(b,"text-rose-500",f[1]==="rest"),(!g||m&2)&&E(b,"text-lime-500",f[1]==="exercise"),(!g||m&2)&&E(k,"fill-rose-500",f[1]==="rest"),(!g||m&2)&&E(k,"fill-lime-500",f[1]==="exercise"),(!g||m&1)&&E(k,"wa-animate-ping",f[0]<=3e3),(!g||m&2)&&E(B,"fill-rose-300",f[1]==="rest"),(!g||m&2)&&E(B,"fill-lime-300",f[1]==="exercise");let re=z;z=ze(f),z===re?H[z].p(f,m):(qe(),C(H[re],1,1,()=>{H[re]=null}),Le(),N=H[z],N?N.p(f,m):(N=H[z]=P[z](f),N.c()),V(N,1),N.m(S,null))},i(f){g||(V(a.$$.fragment,f),V(j.$$.fragment,f),V(p),V(N),g=!0)},o(f){C(a.$$.fragment,f),C(j.$$.fragment,f),C(p),C(N),g=!1},d(f){f&&u(e),Y(a),Y(j),y[v].d(),H[z].d(),ne=!1,Se(me)}}}const de=128,ut=3,Je=3;function dt(n,e,l){let t,r,s,i,c,a,d;const O=fe("selectedExercises");ue(n,O,h=>l(24,d=h));const j=fe("exerciseLength");ue(n,j,h=>l(21,i=h));const te=fe("restLength");ue(n,te,h=>l(20,s=h));const J=fe("repetitions");ue(n,J,h=>l(23,a=h));const T=fe("setOrCycle");ue(n,T,h=>l(22,c=h));let v=d;if(a>1){const h=Array(a).fill("");c==="set"?v=v.flatMap(y=>h.map(()=>y)):c==="cycle"&&(v=h.flatMap(()=>[...v]))}let p=s,F=!1,A="rest",M=0;const L=(i+s)*v.length;let w=L;const I=de/2,b=I-Je,k=2*Math.PI*b;let B=k;const se=[{strokeDashoffset:k},{strokeDashoffset:0}],W={id:"restA",duration:s},S={id:"exerciseA",duration:i},z=(h=1240,y=.2)=>{{const q=new AudioContext,P=q.createOscillator();P.frequency.value=h,P.connect(q.destination),P.start(),P.stop(q.currentTime+y)}},N=()=>{if(F){clearInterval(g);return}if(p<=3e3&&p%1e3===0&&(p<1e3?z(540,.75):z()),A==="exercise"&&t.switchSides===!0&&p===i/2&&z(850,.5),p<=0){if(clearInterval(g),A==="exercise"&&M===v.length-1)return;A==="rest"?(l(1,A="exercise"),l(0,p=i)):(l(1,A="rest"),l(0,p=s),l(18,M++,M)),g=setInterval(N,100)}l(0,p=p-100),l(2,w=w-100)};let g=setInterval(N,100);v.length===0&&Pe("./");const ne=()=>{clearInterval(g),Pe("./")},me=()=>{F?g=setInterval(N,100):clearInterval(g),l(3,F=!F)};return n.$$.update=()=>{if(n.$$.dirty&3){const h=document.getElementById("wa-indicator");let y=h==null?void 0:h.animate(se,W),q=h==null?void 0:h.animate(se,S);y==null||y.cancel(),q==null||q.cancel();let P=y;P=A==="rest"?y:q,P&&(P.currentTime=p)}n.$$.dirty&393216&&l(5,t=v[M]),n.$$.dirty&4&&l(4,r=(w-1e3)/L*100)},[p,A,w,F,r,t,O,j,te,J,T,I,b,k,B,ne,me,v,M]}class gt extends ve{constructor(e){super(),be(this,e,dt,ft,ge,{})}}export{gt as component};
